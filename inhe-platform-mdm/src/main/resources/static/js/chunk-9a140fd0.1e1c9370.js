(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a140fd0"],{"609f":function(t,a,e){"use strict";var r=e("7cb1"),i=e.n(r);i.a},"7cb1":function(t,a,e){},d62e:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"web-client"},[e("a-form",{staticClass:"form",attrs:{form:t.form}},t._l(t.data,function(a,r){return e("a-form-item",t._b({key:r,attrs:{label:t.$t("sparm."+a.parentCode+"_"+a.code)!="sparm."+a.parentCode+"_"+a.code?t.$t("sparm."+a.parentCode+"_"+a.code):a.description}},"a-form-item",t.formItemLayout,!1),["HEAD_ICON"!=a.v2?e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[a.code,{initialValue:a?a.v1:""}],expression:"[\n          item.code,\n          {initialValue: item ? item.v1 : ''}\n        ]"}]}):t._e(),"HEAD_ICON"==a.v2?e("a-upload",{staticClass:"avatar-uploader",staticStyle:{width:"102px",float:"left"},attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,"before-upload":t.beforeUpload}},[e("div",{staticClass:"bg",style:"background:"+t.colorList[t.key]},[e("img",{staticClass:"avatar",attrs:{src:t.imageUrl,alt:"avatar"}})])]):t._e(),"HEAD_ICON"==a.v2?e("div",{staticClass:"color-choose"},[e("div",{staticClass:"color"},t._l(t.colorList,function(a,r){return e("div",{key:r,staticClass:"color-item"},[e("div",{class:t.key==r?"active":"",style:"background:"+a,on:{click:function(a){return t.onChange(r)}}})])}),0),e("span",{staticClass:"tips"},[t._v(t._s(t.$t("param.tip")))])]):t._e()],1)}),1),e("a-button",{staticClass:"sub_btn",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("param.btn_ok")))])],1)},i=[],s=e("b775"),o={name:"WebClient",data:function(){return{form:this.$form.createForm(this),data:{},key:"0",colorList:["#fff","#ccc","#666","#333","#000","#001efb","#fffe34","#ff0f00","#0dfd36"],basePath:"/inhe-platform-mdm/",imageUrl:"",formItemLayout:{labelCol:{span:4},wrapperCol:{span:20}}}},mounted:function(){this.formData=new FormData,this.$emit("done")},methods:{initData:function(t){var a=this;a.formData.set("parentCode",t.code);var e={parentCode:t.code};Object(s["b"])({url:"sys/parameter/search-type-detail",method:"get",params:e}).then(function(t){a.data=t.result;for(var e=0;e<a.data.length;e++)if("HEAD_ICON"==a.data[e].v2){var r=JSON.parse(a.data[e].v1);a.imageUrl=a.basePath+"api/auth/node-icon/"+r.bucket+"/"+r.file}})},beforeUpload:function(t){var a=this,e="image/jpeg"===t.type||"image/png"===t.type;if(!e)return this.$message.error(this.$t("param.tips1")),!1;var r=t.size/1024/1024<2;return r?(this.formData.set("fileName",t),this.getBase64(t,function(t){a.imageUrl=t}),!1):(this.$message.error(this.$t("param.tips2")),!1)},getBase64:function(t,a){var e=new FileReader;e.addEventListener("load",function(){return a(e.result)}),e.readAsDataURL(t)},onSubmit:function(){var t=this,a=this;this.form.validateFields(function(e,r){e||(a.formData.set("items",JSON.stringify(r)),Object(s["b"])({url:"/sys/parameter/update",method:"post",headers:{"Content-Type":"multipart/form-data"},data:a.formData}).then(function(e){a.loading=!1,1==e.result&&t.$emit("ok"),t.visible=!1}))})},onChange:function(t){this.key=t}}},n=o,c=(e("609f"),e("2877")),l=Object(c["a"])(n,r,i,!1,null,"589d99c3",null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-9a140fd0.1e1c9370.js.map