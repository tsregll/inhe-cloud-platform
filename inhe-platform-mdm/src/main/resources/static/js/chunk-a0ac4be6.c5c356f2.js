(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a0ac4be6"],{af15:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-spin",{attrs:{spinning:t.loading,tip:t.$t("lang.tip"),size:"large"}},[e("div",{attrs:{bordered:!1}},[e("transition",{attrs:{name:"fade"}},[e("a-card",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticStyle:{"background-color":"#fff8db","margin-bottom":"10px"}},[e("div",{staticClass:"table-page-search-wrapper"},[t.reset_flag?e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:t.$t("lang.lang_type")}},[e("a-input",{attrs:{placeholder:t.$t("lang.lang_type_placeholder")},model:{value:t.queryParam.langType,callback:function(a){t.$set(t.queryParam,"langType",a)},expression:"queryParam.langType"}})],1)],1),e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:t.$t("lang.id")}},[e("a-input",{attrs:{placeholder:t.$t("lang.id_placeholder")},model:{value:t.queryParam.id,callback:function(a){t.$set(t.queryParam,"id",a)},expression:"queryParam.id"}})],1)],1),e("a-col",{attrs:{md:6,sm:24}},[e("a-form-item",{attrs:{label:t.$t("lang.content")}},[e("a-input",{attrs:{placeholder:t.$t("lang.content_placeholder")},model:{value:t.queryParam.lang1,callback:function(a){t.$set(t.queryParam,"lang1",a)},expression:"queryParam.lang1"}})],1)],1),e("a-col",{attrs:{md:6,sm:24}},[e("btn-search",{attrs:{showInput:!1},on:{click:function(a){return t.$refs.table.refresh()}}}),e("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.onReset}},[t._v(t._s(t.$t("common.btn_reset")))])],1)],1)],1):t._e()],1)])],1),e("a-card",[e("div",{staticClass:"table-page-search-wrapper"},[e("a-row",{staticStyle:{"margin-bottom":"10px"}},[e("a-col",{attrs:{md:19,sm:19}},[e("btn-add",{on:{click:t.onAdd}}),t._v(" \n            "),e("btn-import",{attrs:{action:"/api/sys/lang/import",accept:".js",beforeUpload:t.beforeUpload},on:{done:function(a){t.$refs.table.refresh(),t.loading=!1},uploading:function(a){t.loading=!0}}}),t._v(" \n            "),e("btn-export",{on:{click:t.onExport}})],1),e("a-col",{attrs:{md:5,sm:5}},[e("sorter",{on:{refresh:function(a){return t.$refs.table.refresh()},show:function(a){t.show=!t.show}}})],1)],1),e("s-table",{ref:"table",attrs:{bordered:!1,autoLoad:!0,data:t.loadData,rowKey:t.getKey,size:"small"},scopedSlots:t._u([{key:"expandedRowRender",fn:function(a){return e("p",{staticStyle:{margin:"0"}},[e("a-list",{attrs:{dataSource:t.langList},scopedSlots:t._u([{key:"renderItem",fn:function(n,l){return e("a-list-item",{staticStyle:{padding:"0px",border:"none"}},[e("a-row",{staticStyle:{width:"100%"},attrs:{index:l}},[e("a-col",{staticStyle:{height:"40px","line-height":"40px"},attrs:{span:3}},[t._v(t._s(n.name))]),e("a-col",{staticStyle:{height:"40px","line-height":"40px"},attrs:{span:7}},[e("a-input",{attrs:{placeholder:t.$t("lang.content_placeholder")},model:{value:a["lang"+n.langId],callback:function(e){t.$set(a,"lang"+n.langId,e)},expression:"record['lang' + item.langId]"}})],1)],1)],1)}}],null,!0)}),e("a-row",{staticStyle:{width:"100%"}},[e("a-col",{staticStyle:{height:"40px","line-height":"40px"},attrs:{span:3}}),e("a-col",{staticStyle:{height:"40px","line-height":"40px"},attrs:{span:7}},[e("btn-edit",{attrs:{type:"bt",text:t.$t("common.btn_ok")},on:{click:function(e){return t.onUpdate(a)}}}),t._v(" \n                "),e("btn-remove",{attrs:{type:"bt"},on:{click:function(e){return t.onDelete(a)}}})],1)],1)],1)}}])},[e("a-table-column",{attrs:{title:this.$t("lang.index"),width:"50px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return e("span",{},[e("a-icon",{staticClass:"icon",staticStyle:{"font-size":"25px"},attrs:{type:"appstore",theme:"twoTone"}})],1)}}])}),e("a-table-column",{attrs:{title:this.$t("lang.lang_type"),width:"150px",dataIndex:"langType"}}),e("a-table-column",{attrs:{title:this.$t("lang.id"),width:"200px",dataIndex:"id"}}),e("a-table-column",{attrs:{title:this.$t("lang.lang1"),width:"250px",dataIndex:"lang1"}}),e("a-table-column",{attrs:{title:this.$t("lang.lang2"),width:"350px",dataIndex:"lang2"}}),e("a-table-column",{attrs:{title:this.$t("lang.lang3"),dataIndex:"lang3"}})],1)],1)])],1),e("lang-add",{ref:"langAdd",on:{ok:function(a){return t.$refs.table.refresh()}}})],1)},l=[],r=(e("7f7f"),e("b775")),s=e("e8c4"),i=e("cb8f"),o={name:"Index",components:{STable:s["a"],LangAdd:i["a"]},data:function(){var t=this;return{show:!0,reset_flag:!0,loading:!1,queryParam:{langType:"",id:"",lang1:""},langList:[],loadData:function(a){return Object(r["b"])({url:"/sys/lang/search-list",method:"get",params:Object.assign(a,t.queryParam)}).then(function(t){return t.result})}}},mounted:function(){this.loadLangList()},methods:{loadLangList:function(){var t=this;Object(r["b"])({url:"/sys/lang/search-lang-list",method:"get",params:{}}).then(function(a){t.langList=a.result})},onAdd:function(){this.$refs.langAdd.showModal()},onUpdate:function(t){var a=this;Object(r["b"])({url:"/sys/lang/update",method:"post",params:t}).then(function(t){t&&a.$message.success(a.$t("lang.msg1"))})},onDelete:function(t){var a=this;Object(r["b"])({url:"/sys/lang/delete",method:"post",params:t}).then(function(t){t&&(a.$message.success(a.$t("lang.msg1")),a.$refs.table.refresh())})},onReset:function(){var t=this;t.queryParam={langType:"",id:"",lang1:""},t.reset_flag=!1,this.$nextTick(function(){t.reset_flag=!0})},getKey:function(t){return t.langType+t.id},beforeUpload:function(t){for(var a=!1,e="",n=0;n<this.langList.length;n++)if(e+="["+this.langList[n].isoCode+"] ",this.langList[n].isoCode+".js"==t.name){a=!0;break}return!!a||(this.$message.error(this.$t("lang.msg2")+e,10),!1)},onExport:function(){var t=this;t.loading=!0,Object(r["b"])({url:"/sys/lang/export",method:"get",responseType:"blob"}).then(function(a){t.loading=!1;var e=window.URL.createObjectURL(new Blob([a])),n=document.createElement("a");n.style.display="none",n.href=e,n.setAttribute("download","langs.zip"),document.body.appendChild(n),n.click()})}}},c=o,d=e("2877"),u=Object(d["a"])(c,n,l,!1,null,null,null);a["default"]=u.exports},cb8f:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-modal",{attrs:{maskClosable:!1,bordered:!1,visible:t.visible,destroyOnClose:!0,title:t.$t("lang.title1"),width:"650px"},on:{ok:t.onSubmit,cancel:function(a){t.visible=!1}}},[e("a-spin",{attrs:{spinning:t.loading}},[e("a-form",{attrs:{form:t.form}},[e("a-form-item",t._b({attrs:{label:t.$t("lang.lang_type")}},"a-form-item",t.formItemLayout,!1),[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["langType",{initialValue:"",rules:[{required:!0}]}],expression:"[\n            'langType',\n            {initialValue: '', rules:[{required: true}]}\n          ]"}],attrs:{placeholder:t.$t("lang.lang_type_placeholder")}})],1),e("a-form-item",t._b({attrs:{label:t.$t("lang.id")}},"a-form-item",t.formItemLayout,!1),[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id",{initialValue:"",rules:[{required:!0}]}],expression:"[\n            'id',\n            {initialValue: '', rules:[{required: true}]}\n          ]"}],attrs:{placeholder:t.$t("lang.id_placeholder")}})],1),t._l(t.langList,function(a,n){return e("div",{key:a.langId},[e("a-form-item",t._b({attrs:{label:a.name,index:n}},"a-form-item",t.formItemLayout,!1),[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lang"+a.langId,{initialValue:"",rules:[{required:!0}]}],expression:"[\n              'lang' + item.langId,\n              {initialValue: '', rules:[{required: true}]}\n            ]"}],attrs:{placeholder:t.$t("lang.content_placeholder")}})],1)],1)})],2)],1)],1)},l=[],r=e("b775"),s={data:function(){return{visible:!1,loading:!1,form:this.$form.createForm(this),formItemLayout:{labelCol:{lg:{span:6},sm:{span:24}},wrapperCol:{lg:{span:16},sm:{span:24}}},langList:[]}},methods:{showModal:function(){0==this.langList.length&&this.loadLangList(),this.visible=!0},loadLangList:function(){var t=this;Object(r["b"])({url:"/sys/lang/search-lang-list",method:"get",params:{}}).then(function(a){t.langList=a.result})},onSubmit:function(){var t=this;this.form.validateFields(function(a,e){if(!a){var n=t;n.loading=!0,Object(r["b"])({url:"/sys/lang/insert",method:"post",params:e}).then(function(a){n.loading=!1,a&&(t.visible=!1,t.$emit("ok",a),n.$message.success(n.$t("lang.msg1")))})}})}}},i=s,o=e("2877"),c=Object(o["a"])(i,n,l,!1,null,null,null);a["a"]=c.exports}}]);
//# sourceMappingURL=chunk-a0ac4be6.c5c356f2.js.map