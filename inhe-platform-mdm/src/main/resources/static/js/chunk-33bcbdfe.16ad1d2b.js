(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33bcbdfe"],{"16ae":function(t,e,a){"use strict";var s=a("40c8"),o=a.n(s);o.a},2831:function(t,e,a){"use strict";var s=function(){var t=this,e=this,a=e.$createElement,s=e._self._c||a;return s("a-modal",{attrs:{maskClosable:!1,title:e.$t("common.select_title2"),width:1e3,destroyOnClose:!0},on:{ok:e.onSubmit,cancel:e.cancel},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[s("div",{staticClass:"table-page-search-wrapper"},[s("a-form",{attrs:{layout:"inline"}},[s("a-row",{attrs:{gutter:48}},[s("a-col",{attrs:{md:10,sm:24}},[s("a-form-item",[s("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("transformer.placeholder")},on:{search:e.onSearch},model:{value:e.queryParam.tmCodeName,callback:function(t){e.$set(e.queryParam,"tmCodeName",t)},expression:"queryParam.tmCodeName"}})],1)],1),s("a-col",{attrs:{md:4,sm:48}},[s("span",{staticClass:"table-page-search-submitButtons"},[s("btn-search",{attrs:{showInput:!1},on:{click:e.onSearch}})],1)])],1)],1),s("s-table",{ref:"table",attrs:{bordered:!1,autoLoad:!0,data:e.loadData,size:"small",rowKey:"id",rowSelection:{type:e.multiple?"checkbox":"radio",fixed:!1,onChange:e.onSelect}}},[s("a-table-column",{attrs:{title:this.$t("task.index1"),width:"50px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return s("span",{},[s("a-icon",{staticClass:"icon",staticStyle:{"font-size":"25px"},attrs:{type:"schedule",theme:"twoTone"}})],1)}}])}),s("a-table-column",{attrs:{title:this.$t("transformer.code"),width:"150px",dataIndex:"tmCode"}}),s("a-table-column",{attrs:{title:this.$t("transformer.name"),width:"150px",dataIndex:"description"}}),s("a-table-column",{attrs:{title:this.$t("dept.index"),width:"150px",dataIndex:"deptId",customRender:function(e){return t.$refs.dept.getLabel(e)}}},[e._v(">\n      ")]),s("a-table-column",{attrs:{title:this.$t("common.status"),width:"150px",dataIndex:"status",filters:e.filters,filterMultiple:!1},on:{FilterDropdownVisibleChange:function(t){return e.onChange(2)}},scopedSlots:e._u([{key:"default",fn:function(t,a){return s("span",{},[0==a.status?s("span",[e._v(e._s(e.$t("dct.DEVICE_STATUS0")))]):e._e(),1==a.status?s("span",[e._v(e._s(e.$t("dct.DEVICE_STATUS1")))]):e._e(),2==a.status?s("span",[e._v(e._s(e.$t("dct.DEVICE_STATUS2")))]):e._e()])}}])})],1),s("dept-select",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"dept",staticStyle:{display:"inline-block"},on:{change:function(a){a?e.queryParam.deptId=a:delete e.queryParam.deptId,t.onSearch()}}}),s("dict",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"deviceStatus",attrs:{type:"DEVICE_STATUS",table:"params"}})],1)])},o=[],n=a("e8c4"),i=a("e59a"),l=a("537e"),r=a("3022"),d=a("b775"),c={components:{STable:n["a"],Dict:i["a"],DeptSelect:l["a"]},props:{multiple:{type:Boolean,default:!1},params:{type:Object,default:null}},data:function(){var t=this;return{selectedRows:[],data:{},isShow:!1,queryParam:{},cashData:{},selectRows:[],autoLoad:!0,filters:[{text:"none",value:"0"}],isAdmin:!1,isEnding:!1,callback:null,loadData:function(e){var a=t;return e.deptId=a.params?a.params.deptId:"",!(e.status instanceof Array)||(a.queryParam.status=e.status[0]),Object(d["b"])({method:"get",url:"/archives/structure/transformer/search-list-tm",params:Object.assign(e,t.queryParam)}).then(function(t){return t.result})}}},methods:{showModal:function(t,e){this.isShow=!0,this.selectedRowKeys=this.selectedRows=[],this.isAdmin=!!t&&t.isAdmin,this.isEnding=!!t&&t.isEnding,this.callback=e},onSearch:function(){this.$refs.table.refresh()},onSubmit:function(){this.selectedRows.length&&this.$emit("ok",this.selectedRows,this.searchWord),Object(r["isFunction"])(this.callback)&&(this.callback(this.selectedRows),this.visible=!1),this.isShow=!1},cancel:function(){this.isShow=!1},onSelect:function(t,e){this.selectedRows=e},onChange:function(){this.filters=this.$refs.deviceStatus.getAll()}}},u=c,h=a("2877"),p=Object(h["a"])(u,s,o,!1,null,null,null);e["a"]=p.exports},"2e76":function(t,e,a){"use strict";var s=a("a358"),o=a.n(s);o.a},3706:function(t,e,a){"use strict";var s=a("c0a1"),o=a.n(s);o.a},"40c8":function(t,e,a){},"8ada":function(t,e,a){},"932f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-tabs",{staticClass:"headtab",attrs:{"default-active-key":"1",activeKey:t.type,type:"card"},on:{change:t.callback}},[a("a-tab-pane",{key:"1",attrs:{tab:this.$t("loss.model0")}},[a("branch")],1),a("a-tab-pane",{key:"2",attrs:{tab:this.$t("loss.model1")}},[a("vol-level")],1),a("a-tab-pane",{key:"3",attrs:{tab:this.$t("loss.model2")}},[a("by-line")],1),a("a-tab-pane",{key:"4",attrs:{tab:this.$t("loss.model3")}},[a("by-tm")],1)],1)],1)},o=[],n=function(){var t=this,e=this,a=e.$createElement,s=e._self._c||a;return s("a-spin",{attrs:{spinning:e.loading,tip:e.$t("task.tip"),size:"large"}},[s("div",{attrs:{bordered:!1}},[s("a-card",[s("div",{staticClass:"table-page-search-wrapper",staticStyle:{"margin-bottom":"10px"}},[s("a-row",[s("a-col",{attrs:{md:21,sm:21}},[s("a-button-group",[s("btn-add",{attrs:{type:"bt",text:e.$t("loss.add")},on:{click:e.onCreate}}),s("a-dropdown",{staticStyle:{"margin-top":"2px"},attrs:{placement:"bottomRight"}},[s("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[s("a-menu-item",{key:"1"},[s("btn-add",{attrs:{type:"b",text:e.$t("loss.edit")},on:{click:e.onEdit}})],1),s("a-menu-item",{key:"2"},[s("btn-add",{attrs:{type:"b",text:e.$t("loss.delete")},on:{click:e.onRemove}})],1)],1),s("a-button",{attrs:{type:"primary"}},[s("a-icon",{staticStyle:{"font-size":"18px"},attrs:{type:"ellipsis"}})],1)],1)],1),e._v("   \n            "),s("dept-select",{ref:"dept",staticStyle:{display:"inline-block"},on:{change:function(a){a?e.queryParam.deptId=a:delete e.queryParam.deptId,t.onSearch()}}})],1),s("a-col",{attrs:{md:3,sm:3}},[s("sorter",{on:{refresh:e.onSearch,show:e.showSearch}})],1)],1)],1),s("s-table",{ref:"table",attrs:{bordered:!1,autoLoad:!0,data:e.loadData,size:"small",rowKey:"deptId",rowSelection:{type:"checkbox",fixed:!1,onChange:e.onSelect,selectedRowKeys:e.selectedRowKeys}}},[s("a-table-column",{attrs:{title:this.$t("task.index1"),width:"50px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return s("span",{},[s("a-icon",{staticClass:"icon",staticStyle:{"font-size":"25px"},attrs:{type:"schedule",theme:"twoTone"}})],1)}}])}),s("a-table-column",{attrs:{title:this.$t("dept.index"),width:"150px",dataIndex:"deptId",customRender:function(e){return t.$refs.dept.getLabel(e)}}}),s("a-table-column",{attrs:{title:this.$t("loss.index1"),width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t,a){return s("span",{},["0"==a.generationWay?s("span",[e._v(e._s(e.$t("loss.addtype0")))]):e._e()])}}])}),s("a-table-column",{attrs:{title:this.$t("loss.index2"),width:"150px",dataIndex:"supplyInCount"}}),s("a-table-column",{attrs:{title:this.$t("loss.index3"),width:"150px",dataIndex:"supplyOutCount"}}),s("a-table-column",{attrs:{title:this.$t("loss.index6"),width:"150px",dataIndex:"lossIndexDay"}}),s("a-table-column",{attrs:{title:this.$t("loss.index7"),width:"150px",dataIndex:"lossIndexMonth"}}),s("a-table-column",{attrs:{title:this.$t("loss.index8"),width:"150px",dataIndex:"generationFlag",filters:e.filters,filterMultiple:!1},scopedSlots:e._u([{key:"default",fn:function(t,a){return s("span",{},["1"!=a.generationFlag?s("span",[e._v(e._s(e.$t("common.no")))]):e._e(),"1"==a.generationFlag?s("span",[e._v(e._s(e.$t("common.yes")))]):e._e()])}}])}),s("a-table-column",{attrs:{title:this.$t("loss.index9"),width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t,e){return s("span",{},[s("pick-label",{attrs:{defaultValue:e.generateTime,showTime:!1}})],1)}}])}),s("a-table-column",{attrs:{title:this.$t("task.action"),dataIndex:"action"},scopedSlots:e._u([{key:"default",fn:function(t,a){return s("span",{},[s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"plus",title:e.$t("loss.action1")},on:{click:function(t){return e.onCreate(a)}}}),"1"==a.generationFlag?s("span",[s("a-divider",{attrs:{type:"vertical"}}),s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"usergroup-add",title:e.$t("loss.action2")},on:{click:function(t){return e.onAdd(a)}}}),s("a-divider",{attrs:{type:"vertical"}}),s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"form",title:e.$t("loss.edit")},on:{click:function(t){return e.onEdit(a)}}}),s("a-divider",{attrs:{type:"vertical"}}),s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"delete",title:e.$t("loss.action3")},on:{click:function(t){return e.onRemove(a)}}})],1):e._e()],1)}}])})],1)],1),s("loss-edit",{ref:"lossEdit",on:{ok:e.onSearch}}),s("loss-add",{ref:"lossAdd",on:{ok:e.onSearch}}),s("add-point",{ref:"addPoint",on:{ok:e.onSearch}})],1)])},i=[],l=(a("ac6a"),a("e8c4")),r=a("e59a"),d=a("b775"),c=a("537e"),u=a("90f5"),h=a("27e9"),p=a("d598"),m={name:"Index",components:{STable:l["a"],Dict:r["a"],DeptSelect:c["a"],LossEdit:u["a"],LossAdd:h["a"],AddPoint:p["a"]},data:function(){var t=this;return{loading:!1,show:!0,queryParam:{},selectedRows:[],selectedRowKeys:[],filters:[{text:this.$t("common.yes"),value:"1"},{text:this.$t("common.no"),value:"0"}],loadData:function(e){var a=t;return!(e.generationFlag instanceof Array)||(a.queryParam.generationFlag=e.generationFlag[0]),e.sort="0",Object(d["b"])({url:"/loss/model/four/search",method:"get",params:Object.assign(e,t.queryParam)}).then(function(t){return t.result})}}},methods:{onSearch:function(){this.$refs.table.refresh(),this.selectedRows=[],this.selectedRowKeys=[]},showSearch:function(){this.show=!this.show},onCreate:function(t){var e=[];t?e[0]=t:e=this.selectedRows,0!=e.length?this.$refs.lossAdd.showModal(e,"0"):this.$message.info(this.$t("common.selectone"))},onEdit:function(t){var e=[];t?e[0]=t:e=this.selectedRows,0!=e.length?this.$refs.lossEdit.showModal(e,"0"):this.$message.info(this.$t("common.selectone"))},onAdd:function(t){this.$refs.addPoint.showModal(t,"0")},onRemove:function(t){var e=this,a=[];t?a[0]=t.id:e.selectedRows.forEach(function(t){a.push(t.id)}),0!=a.length?(a=a.join(","),Object(d["b"])({method:"delete",url:"/loss/model/four/delete",params:{id:a}}).then(function(){e.$refs.table.refresh()})):this.$message.info(this.$t("common.selectone"))},onSelect:function(t,e){this.selectedRows=e,this.selectedRowKeys=t}}},f=m,y=(a("3706"),a("2877")),b=Object(y["a"])(f,n,i,!1,null,null,null),x=b.exports,w=function(){var t=this,e=this,a=e.$createElement,s=e._self._c||a;return s("a-spin",{attrs:{spinning:e.loading,tip:e.$t("task.tip"),size:"large"}},[s("div",{attrs:{bordered:!1}},[s("a-card",[s("div",{staticClass:"table-page-search-wrapper",staticStyle:{"margin-bottom":"10px"}},[s("a-row",[s("a-col",{attrs:{md:21,sm:21}},[s("a-button-group",[s("btn-add",{attrs:{type:"bt",text:e.$t("loss.add")},on:{click:e.onCreate}}),s("a-dropdown",{staticStyle:{"margin-top":"2px"},attrs:{placement:"bottomRight"}},[s("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[s("a-menu-item",{key:"1"},[s("btn-add",{attrs:{type:"b",text:e.$t("loss.edit")},on:{click:e.onEdit}})],1),s("a-menu-item",{key:"2"},[s("btn-add",{attrs:{type:"b",text:e.$t("loss.delete")},on:{click:e.onRemove}})],1)],1),s("a-button",{attrs:{type:"primary"}},[s("a-icon",{staticStyle:{"font-size":"18px"},attrs:{type:"ellipsis"}})],1)],1)],1),e._v("   \n            "),s("dept-select",{ref:"dept",staticStyle:{display:"inline-block"},on:{change:function(a){a?e.queryParam.deptId=a:delete e.queryParam.deptId,t.onSearch()}}})],1),s("a-col",{attrs:{md:3,sm:3}},[s("sorter",{on:{refresh:e.onSearch,show:e.showSearch}})],1)],1)],1),s("s-table",{ref:"table",attrs:{bordered:!1,autoLoad:!0,data:e.loadData,size:"small",rowKey:"deptId,volCode",rowSelection:{type:"checkbox",fixed:!1,onChange:e.onSelect,selectedRowKeys:e.selectedRowKeys}}},[s("a-table-column",{attrs:{title:this.$t("task.index1"),width:"50px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return s("span",{},[s("a-icon",{staticClass:"icon",staticStyle:{"font-size":"25px"},attrs:{type:"schedule",theme:"twoTone"}})],1)}}])}),s("a-table-column",{attrs:{title:this.$t("dept.index"),width:"150px",dataIndex:"deptId",customRender:function(e){return t.$refs.dept.getLabel(e)}}}),s("a-table-column",{attrs:{title:this.$t("common.vol_level"),width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t,a){return s("span",{},[s("span",[e._v(e._s(e.$t("dct.VOL_LEVEL"+a.volCode)))])])}}])}),s("a-table-column",{attrs:{title:this.$t("loss.index1"),width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t,a){return s("span",{},["0"==a.generationWay?s("span",[e._v(e._s(e.$t("loss.addtype0")))]):e._e()])}}])}),s("a-table-column",{attrs:{title:this.$t("loss.index2"),width:"120px",dataIndex:"supplyInCount"}}),s("a-table-column",{attrs:{title:this.$t("loss.index3"),width:"120px",dataIndex:"supplyOutCount"}}),s("a-table-column",{attrs:{title:this.$t("loss.index6"),width:"150px",dataIndex:"lossIndexDay"}}),s("a-table-column",{attrs:{title:this.$t("loss.index7"),width:"150px",dataIndex:"lossIndexMonth"}}),s("a-table-column",{attrs:{title:this.$t("loss.index8"),width:"150px",dataIndex:"generationFlag",filters:e.filters,filterMultiple:!1},scopedSlots:e._u([{key:"default",fn:function(t,a){return s("span",{},["1"!=a.generationFlag?s("span",[e._v(e._s(e.$t("common.no")))]):e._e(),"1"==a.generationFlag?s("span",[e._v(e._s(e.$t("common.yes")))]):e._e()])}}])}),s("a-table-column",{attrs:{title:this.$t("loss.index9"),width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t,e){return s("span",{},[s("pick-label",{attrs:{defaultValue:e.generateTime,showTime:!1}})],1)}}])}),s("a-table-column",{attrs:{title:this.$t("task.action"),dataIndex:"action"},scopedSlots:e._u([{key:"default",fn:function(t,a){return s("span",{},[s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"plus",title:e.$t("loss.action1")},on:{click:function(t){return e.onCreate(a)}}}),"1"==a.generationFlag?s("span",[s("a-divider",{attrs:{type:"vertical"}}),s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"usergroup-add",title:e.$t("loss.action2")},on:{click:function(t){return e.onAdd(a)}}}),s("a-divider",{attrs:{type:"vertical"}}),"1"==a.generationFlag?s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"form",title:e.$t("loss.edit")},on:{click:function(t){return e.onEdit(a)}}}):e._e(),s("a-divider",{attrs:{type:"vertical"}}),"1"==a.generationFlag?s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"delete",title:e.$t("loss.action3")},on:{click:function(t){return e.onRemove(a)}}}):e._e()],1):e._e()],1)}}])})],1)],1),s("loss-edit",{ref:"lossEdit",on:{ok:e.onSearch}}),s("loss-add",{ref:"lossAdd",on:{ok:e.onSearch}}),s("add-point",{ref:"addPoint",on:{ok:e.onSearch}})],1)])},$=[],g={name:"Index",components:{STable:l["a"],Dict:r["a"],DeptSelect:c["a"],LossEdit:u["a"],LossAdd:h["a"],AddPoint:p["a"]},data:function(){var t=this;return{loading:!1,show:!0,queryParam:{},selectedRows:[],selectedRowKeys:[],filters:[{text:this.$t("common.yes"),value:"1"},{text:this.$t("common.no"),value:"0"}],loadData:function(e){var a=t;return!(e.generationFlag instanceof Array)||(a.queryParam.generationFlag=e.generationFlag[0]),e.sort="1",Object(d["b"])({url:"/loss/model/four/search",method:"get",params:Object.assign(e,t.queryParam)}).then(function(t){return t.result})}}},methods:{onSearch:function(){this.$refs.table.refresh(),this.selectedRows=[],this.selectedRowKeys=[]},showSearch:function(){this.show=!this.show},onCreate:function(t){var e=[];t?e[0]=t:e=this.selectedRows,0!=e.length?this.$refs.lossAdd.showModal(e,"1"):this.$message.info(this.$t("common.selectone"))},onEdit:function(t){var e=[];t?e[0]=t:e=this.selectedRows,0!=e.length?this.$refs.lossEdit.showModal(e,"1"):this.$message.info(this.$t("common.selectone"))},onAdd:function(t){this.$refs.addPoint.showModal(t,"1")},onRemove:function(t){var e=this,a=[];t?a[0]=t.id:e.selectedRows.forEach(function(t){a.push(t.id)}),0!=a.length?(a=a.join(","),Object(d["b"])({method:"delete",url:"/loss/model/four/delete",params:{id:a}}).then(function(){e.$refs.table.refresh()})):this.$message.info(this.$t("common.selectone"))},onSelect:function(t,e){this.selectedRows=e,this.selectedRowKeys=t}}},S=g,v=(a("2e76"),Object(y["a"])(S,w,$,!1,null,null,null)),k=v.exports,_=function(){var t=this,e=this,a=e.$createElement,s=e._self._c||a;return s("a-spin",{attrs:{spinning:e.loading,tip:e.$t("task.tip"),size:"large"}},[s("div",{attrs:{bordered:!1}},[s("a-card",[s("div",{staticClass:"table-page-search-wrapper",staticStyle:{"margin-bottom":"10px"}},[s("a-row",[s("a-col",{attrs:{md:21,sm:21}},[s("a-button-group",[s("btn-add",{attrs:{type:"bt",text:e.$t("loss.add")},on:{click:e.onCreate}}),s("a-dropdown",{staticStyle:{"margin-top":"2px"},attrs:{placement:"bottomRight"}},[s("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[s("a-menu-item",{key:"1"},[s("btn-add",{attrs:{type:"b",text:e.$t("loss.edit")},on:{click:e.onEdit}})],1),s("a-menu-item",{key:"2"},[s("btn-add",{attrs:{type:"b",text:e.$t("loss.delete")},on:{click:e.onRemove}})],1)],1),s("a-button",{attrs:{type:"primary"}},[s("a-icon",{staticStyle:{"font-size":"18px"},attrs:{type:"ellipsis"}})],1)],1)],1),e._v("   \n            "),s("dept-select",{ref:"dept",staticStyle:{display:"inline-block"},on:{change:function(a){a?e.queryParam.deptId=a:delete e.queryParam.deptId,t.onSearch()}}}),e._v("   \n            "),s("a-input-search",{staticStyle:{width:"220px",display:"inline-block"},attrs:{placeholder:e.$t("dataedit.station_placeholder")},on:{search:e.SelectSub},model:{value:e.queryParam.stationCode,callback:function(t){e.$set(e.queryParam,"stationCode",t)},expression:"queryParam.stationCode"}}),e._v("   \n            "),s("a-input-search",{staticStyle:{width:"220px",display:"inline-block"},attrs:{placeholder:e.$t("dataedit.line_placeholder")},on:{search:e.SelectLine},model:{value:e.queryParam.lineCode,callback:function(t){e.$set(e.queryParam,"lineCode",t)},expression:"queryParam.lineCode"}})],1),s("a-col",{attrs:{md:3,sm:3}},[s("sorter",{on:{refresh:e.onSearch,show:e.showSearch}})],1)],1)],1),s("s-table",{ref:"table",attrs:{bordered:!1,autoLoad:!0,data:e.loadData,size:"small",rowKey:"lineCode",rowSelection:{type:"checkbox",fixed:!1,onChange:e.onSelect,selectedRowKeys:e.selectedRowKeys}}},[s("a-table-column",{attrs:{title:this.$t("task.index1"),width:"50px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return s("span",{},[s("a-icon",{staticClass:"icon",staticStyle:{"font-size":"25px"},attrs:{type:"schedule",theme:"twoTone"}})],1)}}])}),s("a-table-column",{attrs:{title:this.$t("dept.index"),width:"120px",dataIndex:"deptId",customRender:function(e){return t.$refs.dept.getLabel(e)}}}),s("a-table-column",{attrs:{title:this.$t("line.code"),width:"120px",dataIndex:"lineCode"}}),s("a-table-column",{attrs:{title:this.$t("line.name"),width:"150px",dataIndex:"lineName"}}),s("a-table-column",{attrs:{title:this.$t("loss.index1"),width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t,a){return s("span",{},["0"==a.generationWay?s("span",[e._v(e._s(e.$t("loss.addtype0")))]):e._e()])}}])}),s("a-table-column",{attrs:{title:this.$t("loss.index2"),width:"120px",dataIndex:"supplyInCount"}}),s("a-table-column",{attrs:{title:this.$t("loss.index3"),width:"120px",dataIndex:"supplyOutCount"}}),s("a-table-column",{attrs:{title:this.$t("loss.index6"),width:"150px",dataIndex:"lossIndexDay"}}),s("a-table-column",{attrs:{title:this.$t("loss.index7"),width:"150px",dataIndex:"lossIndexMonth"}}),s("a-table-column",{attrs:{title:this.$t("loss.index8"),width:"150px",dataIndex:"generationFlag",filters:e.filters,filterMultiple:!1},scopedSlots:e._u([{key:"default",fn:function(t,a){return s("span",{},["1"!=a.generationFlag?s("span",[e._v(e._s(e.$t("common.no")))]):e._e(),"1"==a.generationFlag?s("span",[e._v(e._s(e.$t("common.yes")))]):e._e()])}}])}),s("a-table-column",{attrs:{title:this.$t("loss.index9"),width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t,e){return s("span",{},[s("pick-label",{attrs:{defaultValue:e.generateTime,showTime:!1}})],1)}}])}),s("a-table-column",{attrs:{title:this.$t("task.action"),dataIndex:"action"},scopedSlots:e._u([{key:"default",fn:function(t,a){return s("span",{},[s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"plus",title:e.$t("loss.action1")},on:{click:function(t){return e.onCreate(a)}}}),"1"==a.generationFlag?s("span",[s("a-divider",{attrs:{type:"vertical"}}),s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"usergroup-add",title:e.$t("loss.action2")},on:{click:function(t){return e.onAdd(a)}}}),s("a-divider",{attrs:{type:"vertical"}}),s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"form",title:e.$t("loss.edit")},on:{click:function(t){return e.onEdit(a)}}}),s("a-divider",{attrs:{type:"vertical"}}),s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"delete",title:e.$t("loss.action3")},on:{click:function(t){return e.onRemove(a)}}})],1):e._e()],1)}}])})],1)],1),s("loss-edit",{ref:"lossEdit",on:{ok:e.onSearch}}),s("loss-add",{ref:"lossAdd",on:{ok:e.onSearch}}),s("add-point",{ref:"addPoint",on:{ok:e.onSearch}}),s("search-substation",{ref:"selectSub",on:{ok:e.loadSubData}}),s("search-line",{ref:"selectLine",on:{ok:e.loadLineData}})],1)])},C=[],I=a("4250"),R=a("b95b"),F={name:"Index",components:{STable:l["a"],Dict:r["a"],DeptSelect:c["a"],LossEdit:u["a"],LossAdd:h["a"],AddPoint:p["a"],SearchSubstation:I["a"],SearchLine:R["a"]},data:function(){var t=this;return{loading:!1,show:!0,queryParam:{stationCode:"",lineCode:""},selectedRows:[],selectedRowKeys:[],filters:[{text:this.$t("common.yes"),value:"1"},{text:this.$t("common.no"),value:"0"}],loadData:function(e){var a=t;return!(e.generationFlag instanceof Array)||(a.queryParam.generationFlag=e.generationFlag[0]),e.sort="2",Object(d["b"])({url:"/loss/model/four/search",method:"get",params:Object.assign(e,t.queryParam)}).then(function(t){return t.result})}}},methods:{SelectLine:function(){this.$refs.selectLine.showModal({sort:"0"})},loadLineData:function(t){this.queryParam.lineCode=t[0]?t[0].lineCode:"",this.$refs.table.refresh()},SelectSub:function(){this.$refs.selectSub.showModal()},loadSubData:function(t){this.queryParam.stationCode=t[0]?t[0].stationCode:"",this.$refs.table.refresh()},onSearch:function(){this.$refs.table.refresh(),this.selectedRows=[],this.selectedRowKeys=[]},showSearch:function(){this.show=!this.show},onCreate:function(t){var e=[];t?e[0]=t:e=this.selectedRows,0!=e.length?this.$refs.lossAdd.showModal(e,"2"):this.$message.info(this.$t("common.selectone"))},onEdit:function(t){var e=[];t?e[0]=t:e=this.selectedRows,0!=e.length?this.$refs.lossEdit.showModal(e,"2"):this.$message.info(this.$t("common.selectone"))},onAdd:function(t){this.$refs.addPoint.showModal(t,"2")},onRemove:function(t){var e=this,a=[];t?a[0]=t.id:e.selectedRows.forEach(function(t){a.push(t.id)}),0!=a.length?(a=a.join(","),Object(d["b"])({method:"delete",url:"/loss/model/four/delete",params:{id:a}}).then(function(){e.$refs.table.refresh()})):this.$message.info(this.$t("common.selectone"))},onSelect:function(t,e){this.selectedRows=e,this.selectedRowKeys=t}}},P=F,E=(a("16ae"),Object(y["a"])(P,_,C,!1,null,null,null)),q=E.exports,D=function(){var t=this,e=this,a=e.$createElement,s=e._self._c||a;return s("a-spin",{attrs:{spinning:e.loading,tip:e.$t("task.tip"),size:"large"}},[s("div",{attrs:{bordered:!1}},[s("a-card",[s("div",{staticClass:"table-page-search-wrapper",staticStyle:{"margin-bottom":"10px"}},[s("a-row",[s("a-col",{attrs:{md:21,sm:21}},[s("a-button-group",[s("btn-add",{attrs:{type:"bt",text:e.$t("loss.add")},on:{click:e.onCreate}}),s("a-dropdown",{staticStyle:{"margin-top":"2px"},attrs:{placement:"bottomRight"}},[s("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[s("a-menu-item",{key:"1"},[s("btn-add",{attrs:{type:"b",text:e.$t("loss.edit")},on:{click:e.onEdit}})],1),s("a-menu-item",{key:"2"},[s("btn-add",{attrs:{type:"b",text:e.$t("loss.delete")},on:{click:e.onRemove}})],1)],1),s("a-button",{attrs:{type:"primary"}},[s("a-icon",{staticStyle:{"font-size":"18px"},attrs:{type:"ellipsis"}})],1)],1)],1),e._v("   \n            "),s("dept-select",{ref:"dept",staticStyle:{display:"inline-block"},on:{change:function(a){a?e.queryParam.deptId=a:delete e.queryParam.deptId,t.onSearch()}}}),e._v("   \n            "),s("a-input-search",{staticStyle:{width:"220px",display:"inline-block"},attrs:{placeholder:e.$t("dataedit.line_placeholder")},on:{search:e.SelectLine},model:{value:e.queryParam.lineCode,callback:function(t){e.$set(e.queryParam,"lineCode",t)},expression:"queryParam.lineCode"}}),e._v("    \n            "),s("a-input-search",{staticStyle:{width:"220px",display:"inline-block"},attrs:{placeholder:e.$t("dataedit.tm_placeholder")},on:{search:e.SelectTm},model:{value:e.queryParam.tmCode,callback:function(t){e.$set(e.queryParam,"tmCode",t)},expression:"queryParam.tmCode"}})],1),s("a-col",{attrs:{md:3,sm:3}},[s("sorter",{on:{refresh:e.onSearch,show:e.showSearch}})],1)],1)],1),s("s-table",{ref:"table",attrs:{bordered:!1,autoLoad:!0,data:e.loadData,size:"small",rowKey:"tmCode",rowSelection:{type:"checkbox",fixed:!1,onChange:e.onSelect,selectedRowKeys:e.selectedRowKeys}}},[s("a-table-column",{attrs:{title:this.$t("task.index1"),width:"50px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return s("span",{},[s("a-icon",{staticClass:"icon",staticStyle:{"font-size":"25px"},attrs:{type:"schedule",theme:"twoTone"}})],1)}}])}),s("a-table-column",{attrs:{title:this.$t("dept.index"),width:"120px",dataIndex:"deptId",customRender:function(e){return t.$refs.dept.getLabel(e)}}}),s("a-table-column",{attrs:{title:this.$t("line.code"),width:"120px",dataIndex:"lineCode"}}),s("a-table-column",{attrs:{title:this.$t("loss.tmcode"),width:"120px",dataIndex:"tmCode"}}),s("a-table-column",{attrs:{title:this.$t("loss.tmname"),width:"120px",dataIndex:"tmName"}}),s("a-table-column",{attrs:{title:this.$t("loss.index1"),width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t,a){return s("span",{},["0"==a.generationWay?s("span",[e._v(e._s(e.$t("loss.addtype0")))]):e._e()])}}])}),s("a-table-column",{attrs:{title:this.$t("loss.index2"),width:"120px",dataIndex:"supplyInCount"}}),s("a-table-column",{attrs:{title:this.$t("loss.index3"),width:"120px",dataIndex:"supplyOutCount"}}),s("a-table-column",{attrs:{title:this.$t("loss.index6"),width:"150px",dataIndex:"lossIndexDay"}}),s("a-table-column",{attrs:{title:this.$t("loss.index7"),width:"150px",dataIndex:"lossIndexMonth"}}),s("a-table-column",{attrs:{title:this.$t("loss.index8"),width:"120px",dataIndex:"generationFlag",filters:e.filters,filterMultiple:!1},scopedSlots:e._u([{key:"default",fn:function(t,a){return s("span",{},["1"!=a.generationFlag?s("span",[e._v(e._s(e.$t("common.no")))]):e._e(),"1"==a.generationFlag?s("span",[e._v(e._s(e.$t("common.yes")))]):e._e()])}}])}),s("a-table-column",{attrs:{title:this.$t("loss.index9"),width:"110px"},scopedSlots:e._u([{key:"default",fn:function(t,e){return s("span",{},[s("pick-label",{attrs:{defaultValue:e.generateTime,showTime:!1}})],1)}}])}),s("a-table-column",{attrs:{title:this.$t("task.action"),dataIndex:"action"},scopedSlots:e._u([{key:"default",fn:function(t,a){return s("span",{},[s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"plus",title:e.$t("loss.action1")},on:{click:function(t){return e.onCreate(a)}}}),"1"==a.generationFlag?s("span",[s("a-divider",{attrs:{type:"vertical"}}),s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"usergroup-add",title:e.$t("loss.action2")},on:{click:function(t){return e.onAdd(a)}}}),s("a-divider",{attrs:{type:"vertical"}}),s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"form",title:e.$t("loss.edit")},on:{click:function(t){return e.onEdit(a)}}}),s("a-divider",{attrs:{type:"vertical"}}),s("a-icon",{style:{fontSize:"16px",color:"#1890FF",cursor:"pointer"},attrs:{type:"delete",title:e.$t("loss.action3")},on:{click:function(t){return e.onRemove(a)}}})],1):e._e()],1)}}])})],1)],1),s("loss-edit",{ref:"lossEdit",on:{ok:e.onSearch}}),s("loss-add",{ref:"lossAdd",on:{ok:e.onSearch}}),s("add-point",{ref:"addPoint",on:{ok:e.onSearch}}),s("search-transformer",{ref:"selectTm",on:{ok:e.loadTmData}}),s("search-line",{ref:"selectLine",on:{ok:e.loadLineData}})],1)])},L=[],A=a("2831"),z={name:"Index",components:{STable:l["a"],Dict:r["a"],DeptSelect:c["a"],LossEdit:u["a"],LossAdd:h["a"],AddPoint:p["a"],SearchTransformer:A["a"],SearchLine:R["a"]},data:function(){var t=this;return{loading:!1,show:!0,queryParam:{tmCode:"",lineCode:""},selectedRows:[],selectedRowKeys:[],filters:[{text:this.$t("common.yes"),value:"1"},{text:this.$t("common.no"),value:"0"}],loadData:function(e){var a=t;return!(e.generationFlag instanceof Array)||(a.queryParam.generationFlag=e.generationFlag[0]),e.sort="3",Object(d["b"])({url:"/loss/model/four/search",method:"get",params:Object.assign(e,t.queryParam)}).then(function(t){return t.result})}}},methods:{SelectLine:function(){this.$refs.selectLine.showModal()},loadLineData:function(t){this.queryParam.lineCode=t[0]?t[0].lineCode:"",this.$refs.table.refresh()},SelectTm:function(){this.$refs.selectTm.showModal()},loadTmData:function(t){this.queryParam.tmCode=t[0]?t[0].tmCode:"",this.$refs.table.refresh()},onSearch:function(){this.$refs.table.refresh(),this.selectedRows=[],this.selectedRowKeys=[]},showSearch:function(){this.show=!this.show},onCreate:function(t){var e=[];t?e[0]=t:e=this.selectedRows,0!=e.length?this.$refs.lossAdd.showModal(e,"3"):this.$message.info(this.$t("common.selectone"))},onEdit:function(t){var e=[];t?e[0]=t:e=this.selectedRows,0!=e.length?this.$refs.lossEdit.showModal(e,"3"):this.$message.info(this.$t("common.selectone"))},onAdd:function(t){this.$refs.addPoint.showModal(t,"3")},onRemove:function(t){var e=this,a=[];t?a[0]=t.id:e.selectedRows.forEach(function(t){a.push(t.id)}),0!=a.length?(a=a.join(","),Object(d["b"])({method:"delete",url:"/loss/model/four/delete",params:{id:a}}).then(function(){e.$refs.table.refresh()})):this.$message.info(this.$t("common.selectone"))},onSelect:function(t,e){this.selectedRows=e,this.selectedRowKeys=t}}},T=z,O=(a("b65a"),Object(y["a"])(T,D,L,!1,null,null,null)),K=O.exports,j={name:"Index",components:{Branch:x,VolLevel:k,ByLine:q,ByTm:K},data:function(){return{type:"1"}},methods:{callback:function(t){this.type=t}}},M=j,V=(a("c37f"),Object(y["a"])(M,s,o,!1,null,"b63e8e12",null));e["default"]=V.exports},a358:function(t,e,a){},b65a:function(t,e,a){"use strict";var s=a("8ada"),o=a.n(s);o.a},c0a1:function(t,e,a){},c37f:function(t,e,a){"use strict";var s=a("eaed"),o=a.n(s);o.a},eaed:function(t,e,a){}}]);
//# sourceMappingURL=chunk-33bcbdfe.16ad1d2b.js.map